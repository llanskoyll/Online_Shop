{"ast":null,"code":"import { UserActionEnum } from \"./types\";\nimport axios from \"axios\";\nexport const UserActionCreators = {\n  setIsAuth: isAuth => ({\n    type: UserActionEnum.SET_AUT,\n    payload: isAuth\n  }),\n  setUser: user => ({\n    type: UserActionEnum.SET_USER,\n    payload: user\n  }),\n  setAddCash: cash => ({\n    type: UserActionEnum.ADD_CASH,\n    payload: cash\n  }),\n  setRemoveCah: cash => ({\n    type: UserActionEnum.REMOVE_CASH,\n    payload: cash\n  }),\n  setLogin: user => async dispatch => {\n    try {\n      const response = await axios.get('./users.json');\n      if (response.data.length === 0) throw new Error('Попробуйте еще раз!');\n      const mockUser = response.data.find(users => users.username === user.username && users.password === user.password);\n\n      if (mockUser) {\n        dispatch(UserActionCreators.setIsAuth(true));\n        dispatch(UserActionCreators.setUser(user));\n      } else {\n        throw new Error('Вы ввели не правильный логин или пароль');\n      }\n    } catch (e) {\n      return false;\n    }\n  }\n};","map":{"version":3,"sources":["C:/Users/12345/Desktop/Программирование/Pet_prjs/react-pet-3/src/store/reducer/user/action-creators.ts"],"names":["UserActionEnum","axios","UserActionCreators","setIsAuth","isAuth","type","SET_AUT","payload","setUser","user","SET_USER","setAddCash","cash","ADD_CASH","setRemoveCah","REMOVE_CASH","setLogin","dispatch","response","get","data","length","Error","mockUser","find","users","username","password","e"],"mappings":"AAAA,SAA6EA,cAA7E,QAAkG,SAAlG;AAGA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,OAAO,MAAMC,kBAAkB,GAAG;AAC9BC,EAAAA,SAAS,EAAGC,MAAD,KAAqC;AAACC,IAAAA,IAAI,EAAEL,cAAc,CAACM,OAAtB;AAA+BC,IAAAA,OAAO,EAAEH;AAAxC,GAArC,CADmB;AAE9BI,EAAAA,OAAO,EAAGC,IAAD,KAAiC;AAACJ,IAAAA,IAAI,EAAEL,cAAc,CAACU,QAAtB;AAAgCH,IAAAA,OAAO,EAAEE;AAAzC,GAAjC,CAFqB;AAG9BE,EAAAA,UAAU,EAAGC,IAAD,KAAqC;AAACP,IAAAA,IAAI,EAAEL,cAAc,CAACa,QAAtB;AAAgCN,IAAAA,OAAO,EAAEK;AAAzC,GAArC,CAHkB;AAI9BE,EAAAA,YAAY,EAAGF,IAAD,KAAwC;AAACP,IAAAA,IAAI,EAAEL,cAAc,CAACe,WAAtB;AAAmCR,IAAAA,OAAO,EAAEK;AAA5C,GAAxC,CAJgB;AAK9BI,EAAAA,QAAQ,EAAGP,IAAD,IAAiB,MAAOQ,QAAP,IAAiC;AACxD,QAAI;AACA,YAAMC,QAAQ,GAAG,MAAMjB,KAAK,CAACkB,GAAN,CAAmB,cAAnB,CAAvB;AACA,UAAGD,QAAQ,CAACE,IAAT,CAAcC,MAAd,KAAyB,CAA5B,EAA+B,MAAM,IAAIC,KAAJ,CAAU,qBAAV,CAAN;AAC/B,YAAMC,QAAQ,GAAGL,QAAQ,CAACE,IAAT,CAAcI,IAAd,CAAmBC,KAAK,IAAIA,KAAK,CAACC,QAAN,KAAmBjB,IAAI,CAACiB,QAAxB,IAAoCD,KAAK,CAACE,QAAN,KAAmBlB,IAAI,CAACkB,QAAxF,CAAjB;;AACA,UAAGJ,QAAH,EAAa;AACTN,QAAAA,QAAQ,CAACf,kBAAkB,CAACC,SAAnB,CAA6B,IAA7B,CAAD,CAAR;AACAc,QAAAA,QAAQ,CAACf,kBAAkB,CAACM,OAAnB,CAA2BC,IAA3B,CAAD,CAAR;AACH,OAHD,MAGO;AACH,cAAM,IAAIa,KAAJ,CAAU,yCAAV,CAAN;AACH;AACJ,KAVD,CAUE,OAAOM,CAAP,EAAU;AACR,aAAO,KAAP;AACH;AACJ;AAnB6B,CAA3B","sourcesContent":["import {SetAddCashAction, SetAuthAction, SetRemoveCashAction, SetUserAction, UserActionEnum} from \"./types\";\nimport {IUser} from \"../../../models/IUser\";\nimport {AppDispatch} from \"../../index\";\nimport axios from \"axios\";\n\n\nexport const UserActionCreators = {\n    setIsAuth: (isAuth: boolean): SetAuthAction => ({type: UserActionEnum.SET_AUT, payload: isAuth}),\n    setUser: (user: IUser): SetUserAction => ({type: UserActionEnum.SET_USER, payload: user}),\n    setAddCash: (cash: string): SetAddCashAction => ({type: UserActionEnum.ADD_CASH, payload: cash}),\n    setRemoveCah: (cash: string): SetRemoveCashAction => ({type: UserActionEnum.REMOVE_CASH, payload: cash}),\n    setLogin: (user: IUser) => async (dispatch: AppDispatch) => {\n        try {\n            const response = await axios.get<IUser[]>('./users.json')\n            if(response.data.length === 0) throw new Error('Попробуйте еще раз!')\n            const mockUser = response.data.find(users => users.username === user.username && users.password === user.password)\n            if(mockUser) {\n                dispatch(UserActionCreators.setIsAuth(true))\n                dispatch(UserActionCreators.setUser(user))\n            } else {\n                throw new Error('Вы ввели не правильный логин или пароль')\n            }\n        } catch (e) {\n            return false\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}